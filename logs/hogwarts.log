2025-11-04 15:44:31.102 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 14256 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 15:44:31.104 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 15:44:31.105 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 15:44:31.986 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 15:44:32.056 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 3 JPA repository interfaces.
2025-11-04 15:44:32.665 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 15:44:32.681 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 15:44:32.684 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 15:44:32.684 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 15:44:32.763 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 15:44:32.764 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1595 ms
2025-11-04 15:44:32.963 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 15:44:33.203 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d2c9361
2025-11-04 15:44:33.205 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 15:44:33.428 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 15:44:33.780 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 15:44:33.836 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 15:44:33.839 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 15:44:33.849 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 15:44:33.849 [main] INFO  liquibase.util - Run:                          0
2025-11-04 15:44:33.849 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 15:44:33.849 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 15:44:33.850 [main] INFO  liquibase.util - -------------------------------
2025-11-04 15:44:33.850 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 15:44:33.851 [main] INFO  liquibase.util - Update summary generated
2025-11-04 15:44:33.852 [main] INFO  liquibase.command - Command execution complete
2025-11-04 15:44:35.351 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 15:44:35.434 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 15:44:35.478 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 15:44:35.836 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 15:44:35.851 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 15:44:35.876 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 15:44:35.895 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 15:44:36.820 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 15:44:36.837 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2a5d9ede] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 15:44:36.853 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 15:44:37.203 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 15:44:38.095 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 15:44:38.140 [main] INFO  o.s.v.b.OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-11-04 15:44:38.542 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9090"]
2025-11-04 15:44:38.564 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9090 (http) with context path '/'
2025-11-04 15:44:38.577 [main] INFO  r.hogwarts.school.SchoolApplication - Started SchoolApplication in 8.146 seconds (process running for 8.58)
2025-11-04 15:45:46.798 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 15:45:46.837 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 15:45:46.841 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 15:45:46.842 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 15:45:46.844 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:19:49.370 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 8224 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 16:19:49.373 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 16:19:49.374 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 16:19:50.408 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 16:19:50.486 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 3 JPA repository interfaces.
2025-11-04 16:19:51.141 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 16:19:51.155 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 16:19:51.161 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 16:19:51.162 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 16:19:51.241 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 16:19:51.242 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1802 ms
2025-11-04 16:19:51.434 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 16:19:51.681 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@740a0d5e
2025-11-04 16:19:51.683 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 16:19:51.891 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 16:19:52.234 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:19:52.278 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 16:19:52.280 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:19:52.290 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 16:19:52.291 [main] INFO  liquibase.util - Run:                          0
2025-11-04 16:19:52.291 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 16:19:52.291 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 16:19:52.291 [main] INFO  liquibase.util - -------------------------------
2025-11-04 16:19:52.291 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 16:19:52.292 [main] INFO  liquibase.util - Update summary generated
2025-11-04 16:19:52.294 [main] INFO  liquibase.command - Command execution complete
2025-11-04 16:19:53.195 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 16:19:53.274 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 16:19:53.324 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 16:19:53.650 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 16:19:53.674 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 16:19:53.698 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 16:19:53.722 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 16:19:54.768 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 16:19:54.787 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3c6d3ba] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 16:19:54.806 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:19:55.179 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 16:19:55.738 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'avatarController' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'avatarService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'facultyService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService': Requested bean is currently in creation: Is there an unresolvable circular reference or an asynchronous initialization dependency?
2025-11-04 16:19:55.739 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:19:55.742 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 16:19:55.747 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:19:55.750 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-04 16:19:55.765 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-04 16:19:55.784 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   avatarController defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]
      ↓
   avatarService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]
┌─────┐
|  studentService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]
↑     ↓
|  facultyService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-11-04 16:22:27.238 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 8496 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 16:22:27.241 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 16:22:27.242 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 16:22:28.165 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 16:22:28.238 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 3 JPA repository interfaces.
2025-11-04 16:22:28.849 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 16:22:28.863 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 16:22:28.866 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 16:22:28.866 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 16:22:28.947 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 16:22:28.948 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1643 ms
2025-11-04 16:22:29.146 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 16:22:29.391 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f884bd6
2025-11-04 16:22:29.393 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 16:22:29.607 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 16:22:29.945 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:22:29.992 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 16:22:29.995 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:22:30.003 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 16:22:30.004 [main] INFO  liquibase.util - Run:                          0
2025-11-04 16:22:30.004 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 16:22:30.004 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 16:22:30.004 [main] INFO  liquibase.util - -------------------------------
2025-11-04 16:22:30.004 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 16:22:30.005 [main] INFO  liquibase.util - Update summary generated
2025-11-04 16:22:30.006 [main] INFO  liquibase.command - Command execution complete
2025-11-04 16:22:31.412 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 16:22:31.483 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 16:22:31.526 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 16:22:31.869 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 16:22:31.890 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 16:22:31.915 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 16:22:31.935 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 16:22:32.944 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 16:22:32.961 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@adbc3bc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 16:22:32.979 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:22:33.337 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 16:22:33.977 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'avatarController' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'avatarService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'facultyService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService': Requested bean is currently in creation: Is there an unresolvable circular reference or an asynchronous initialization dependency?
2025-11-04 16:22:33.977 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:22:33.979 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 16:22:33.983 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:22:33.986 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-04 16:22:34.004 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-04 16:22:34.021 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   avatarController defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]
      ↓
   avatarService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]
┌─────┐
|  studentService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]
↑     ↓
|  facultyService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-11-04 16:25:20.900 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 2896 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 16:25:20.902 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 16:25:20.903 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 16:25:21.739 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 16:25:21.811 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
2025-11-04 16:25:22.350 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 16:25:22.363 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 16:25:22.366 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 16:25:22.366 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 16:25:22.450 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 16:25:22.451 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1482 ms
2025-11-04 16:25:22.638 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 16:25:22.855 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f884bd6
2025-11-04 16:25:22.857 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 16:25:23.031 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 16:25:23.355 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:25:23.404 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 16:25:23.407 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:25:23.416 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 16:25:23.417 [main] INFO  liquibase.util - Run:                          0
2025-11-04 16:25:23.417 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 16:25:23.417 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 16:25:23.417 [main] INFO  liquibase.util - -------------------------------
2025-11-04 16:25:23.417 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 16:25:23.418 [main] INFO  liquibase.util - Update summary generated
2025-11-04 16:25:23.419 [main] INFO  liquibase.command - Command execution complete
2025-11-04 16:25:24.288 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 16:25:24.347 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 16:25:24.386 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 16:25:24.691 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 16:25:24.707 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 16:25:24.728 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 16:25:24.747 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 16:25:25.746 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 16:25:25.766 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@adbc3bc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 16:25:25.787 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:25:26.139 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 16:25:26.683 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'avatarController' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'avatarService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'facultyService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService': Requested bean is currently in creation: Is there an unresolvable circular reference or an asynchronous initialization dependency?
2025-11-04 16:25:26.684 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:25:26.686 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 16:25:26.689 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:25:26.693 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-04 16:25:26.707 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-04 16:25:26.724 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   avatarController defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]
      ↓
   avatarService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]
┌─────┐
|  studentService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]
↑     ↓
|  facultyService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]
└─────┘


Action:

Despite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.

2025-11-04 16:30:27.289 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 3000 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 16:30:27.291 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 16:30:27.292 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 16:30:28.138 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 16:30:28.203 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 3 JPA repository interfaces.
2025-11-04 16:30:28.773 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 16:30:28.786 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 16:30:28.789 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 16:30:28.789 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 16:30:28.858 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 16:30:28.860 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1508 ms
2025-11-04 16:30:29.035 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 16:30:29.250 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@31a136a6
2025-11-04 16:30:29.252 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 16:30:29.418 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 16:30:29.731 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:30:29.778 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 16:30:29.780 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:30:29.789 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 16:30:29.789 [main] INFO  liquibase.util - Run:                          0
2025-11-04 16:30:29.789 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 16:30:29.789 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 16:30:29.789 [main] INFO  liquibase.util - -------------------------------
2025-11-04 16:30:29.789 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 16:30:29.790 [main] INFO  liquibase.util - Update summary generated
2025-11-04 16:30:29.791 [main] INFO  liquibase.command - Command execution complete
2025-11-04 16:30:31.158 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 16:30:31.223 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 16:30:31.259 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 16:30:31.564 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 16:30:31.582 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 16:30:31.603 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 16:30:31.623 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 16:30:32.623 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 16:30:32.641 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@760ac834] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 16:30:32.658 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:30:33.014 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 16:30:33.606 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'avatarController' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'avatarService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'facultyService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService': Requested bean is currently in creation: Is there an unresolvable circular reference or an asynchronous initialization dependency?
2025-11-04 16:30:33.607 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:30:33.610 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 16:30:33.614 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:30:33.617 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-04 16:30:33.632 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-04 16:30:33.652 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   avatarController defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]
      ↓
   avatarService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]
┌─────┐
|  studentService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]
↑     ↓
|  facultyService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-11-04 16:33:16.395 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 2000 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 16:33:16.398 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 16:33:16.399 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 16:33:17.308 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 16:33:17.381 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 3 JPA repository interfaces.
2025-11-04 16:33:17.980 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 16:33:17.992 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 16:33:17.995 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 16:33:17.996 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 16:33:18.066 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 16:33:18.068 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1605 ms
2025-11-04 16:33:18.261 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 16:33:18.501 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@265c1a7c
2025-11-04 16:33:18.503 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 16:33:18.719 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 16:33:19.067 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:33:19.119 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 16:33:19.121 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:33:19.132 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 16:33:19.132 [main] INFO  liquibase.util - Run:                          0
2025-11-04 16:33:19.132 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 16:33:19.132 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 16:33:19.132 [main] INFO  liquibase.util - -------------------------------
2025-11-04 16:33:19.132 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 16:33:19.133 [main] INFO  liquibase.util - Update summary generated
2025-11-04 16:33:19.135 [main] INFO  liquibase.command - Command execution complete
2025-11-04 16:33:20.072 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 16:33:20.150 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 16:33:20.195 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 16:33:20.535 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 16:33:20.553 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 16:33:20.578 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 16:33:20.596 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 16:33:21.563 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 16:33:21.584 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@34f3c920] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 16:33:21.602 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:33:21.972 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 16:33:22.528 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'avatarController' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'avatarService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'facultyService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService': Requested bean is currently in creation: Is there an unresolvable circular reference or an asynchronous initialization dependency?
2025-11-04 16:33:22.529 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:33:22.531 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 16:33:22.534 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:33:22.536 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-04 16:33:22.550 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-04 16:33:22.571 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   avatarController defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]
      ↓
   avatarService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]
┌─────┐
|  studentService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]
↑     ↓
|  facultyService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-11-04 16:40:34.171 [main] INFO  r.hogwarts.school.SchoolApplication - Starting SchoolApplication using Java 17.0.16 with PID 4172 (C:\Users\username\YandexDisk\skypro\school\target\classes started by username in C:\Users\username\YandexDisk\skypro\school)
2025-11-04 16:40:34.173 [main] DEBUG r.hogwarts.school.SchoolApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-04 16:40:34.175 [main] INFO  r.hogwarts.school.SchoolApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 16:40:35.017 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 16:40:35.078 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2025-11-04 16:40:35.624 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-11-04 16:40:35.637 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-11-04 16:40:35.639 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 16:40:35.639 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 16:40:35.711 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 16:40:35.712 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1466 ms
2025-11-04 16:40:35.879 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 16:40:36.091 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5b2b8d86
2025-11-04 16:40:36.093 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 16:40:36.278 [main] INFO  liquibase.database - Set default schema name to public
2025-11-04 16:40:36.592 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:40:36.646 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-11-04 16:40:36.648 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-11-04 16:40:36.657 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-11-04 16:40:36.658 [main] INFO  liquibase.util - Run:                          0
2025-11-04 16:40:36.658 [main] INFO  liquibase.util - Previously run:               2
2025-11-04 16:40:36.658 [main] INFO  liquibase.util - Filtered out:                 0
2025-11-04 16:40:36.658 [main] INFO  liquibase.util - -------------------------------
2025-11-04 16:40:36.658 [main] INFO  liquibase.util - Total change sets:            2
2025-11-04 16:40:36.659 [main] INFO  liquibase.util - Update summary generated
2025-11-04 16:40:36.660 [main] INFO  liquibase.command - Command execution complete
2025-11-04 16:40:37.525 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 16:40:37.580 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 16:40:37.618 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 16:40:37.892 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 16:40:37.914 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [hibernate.temp.use_jdbc_metadata_defaults], use [hibernate.boot.allow_jdbc_metadata_access] instead
2025-11-04 16:40:37.933 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 16:40:37.949 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 16:40:38.909 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 16:40:38.929 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@307ba188] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-11-04 16:40:38.950 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:40:39.289 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 16:40:39.802 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'avatarController' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'avatarService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'facultyService' defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'studentService': Requested bean is currently in creation: Is there an unresolvable circular reference or an asynchronous initialization dependency?
2025-11-04 16:40:39.803 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 16:40:39.805 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 16:40:39.812 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 16:40:39.814 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-04 16:40:39.828 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-04 16:40:39.846 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   avatarController defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\controller\AvatarController.class]
      ↓
   avatarService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\AvatarService.class]
┌─────┐
|  studentService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\StudentService.class]
↑     ↓
|  facultyService defined in file [C:\Users\username\YandexDisk\skypro\school\target\classes\ru\hogwarts\school\service\FacultyService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

